<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•œêµ­ì–´ ë¬¸ë²• ì—°ìŠµ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');

        :root {
            --primary-color: #3498db;
            --success-color: #27ae60;
            --error-color: #e74c3c;
            --bg-color: #f4f7f6;
            --card-color: #ffffff;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--bg-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            color: #333;
        }

        .container {
            width: 90%;
            max-width: 500px;
            background-color: var(--card-color);
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px;
        }

        h1 {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 25px;
            font-size: 1.8em;
        }

        #question-area {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #ecf0f1;
            font-size: 1.1em;
            line-height: 1.6;
        }

        .blank {
            color: var(--error-color);
            font-weight: bold;
            padding: 0 5px;
            border-bottom: 2px solid var(--error-color);
        }

        .options {
            margin-top: 20px;
        }

        .option-item {
            display: block;
            background-color: #fff;
            padding: 12px 15px;
            margin-bottom: 10px;
            border-radius: 6px;
            border: 1px solid #dcdcdc;
            cursor: pointer;
            transition: background-color 0.2s, border-color 0.2s;
        }

        .option-item:hover {
            background-color: #f0f8ff;
            border-color: var(--primary-color);
        }

        .option-item input[type="radio"] {
            margin-right: 10px;
            accent-color: var(--primary-color);
        }

        button {
            width: 100%;
            padding: 12px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 15px;
        }

        button:hover {
            background-color: #2980b9;
        }
        
        button:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
        }

        #feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: 6px;
            text-align: center;
            font-weight: bold;
            display: none;
        }

        .correct {
            background-color: #e8f8f5;
            color: var(--success-color);
        }

        .incorrect {
            background-color: #fdebd0;
            color: var(--error-color);
        }

        #results {
            text-align: center;
            padding: 20px;
        }
        
        #results h2 {
            color: var(--success-color);
            margin-bottom: 15px;
        }

    </style>
</head>
<body>

<div class="container">
    <h1>í•œêµ­ì–´ ë¬¸ë²• ì—°ìŠµ ğŸ“</h1>

    <div id="quiz-container">
        <div id="question-area">
            <!-- Question text goes here -->
        </div>

        <form id="options-form" class="options">
            <!-- Options (radio buttons) go here -->
        </form>

        <button id="check-btn">ì •ë‹µ í™•ì¸</button>

        <div id="feedback" style="display: none;">
            <!-- Feedback goes here -->
        </div>
    </div>

    <div id="results" style="display: none;">
        <!-- Results summary goes here -->
    </div>
</div>

<script>
    const questions = [
        {
            id: 1,
            sentence_start: "ì €ëŠ” ì‚¬ê³¼",
            sentence_end: " ì¢‹ì•„í•´ìš”.",
            correctAnswer: "ë¥¼", // Objective Marker (ì„/ë¥¼)
            options: ["ì´", "ê°€", "ëŠ”", "ë¥¼"]
        },
        {
            id: 2,
            sentence_start: "ë‚ ì”¨",
            sentence_end: " ë„ˆë¬´ ì¶”ì›Œìš”.",
            correctAnswer: "ê°€", // Subject Marker (ì´/ê°€)
            options: ["ëŠ”", "ì„", "ê°€", "ë¡œ"]
        },
        {
            id: 3,
            sentence_start: "ì»¤í”¼",
            sentence_end: " ë§ˆì‹œëŸ¬ ì¹´í˜ì— ê°”ì–´ìš”.",
            correctAnswer: "ë¥¼", // Objective Marker (ì„/ë¥¼)
            options: ["ì™€", "ë¥¼", "ë‘", "ë„"]
        },
        {
            id: 4,
            sentence_start: "ë‚´ì¼ ì¹œêµ¬",
            sentence_end: " ê°™ì´ ì˜í™”ë¥¼ ë³¼ ê±°ì˜ˆìš”.",
            correctAnswer: "ì™€", // Conjunction/Together (ê³¼/ì™€)
            options: ["ì—ê²Œ", "ë§Œ", "ë¡œ", "ì™€"]
        },
        {
            id: 5,
            sentence_start: "í•œêµ­",
            sentence_end: " ì‚´ê³  ì‹¶ì–´ìš”.",
            correctAnswer: "ì—ì„œ", // Location (activity)
            options: ["ê¹Œì§€", "ì—", "ì—ì„œ", "ë¶€í„°"]
        },
   {
        id: 6,
        sentence_start: "ì €ëŠ” ì–´ì œ ì‹œì¥",
        sentence_end: " ê°”ì–´ìš”.",
        correctAnswer: "ì—", // Destinazione/Luogo (ì—)
        options: ["ì—", "ì—ì„œ", "ë¥¼", "ê°€"]
    },
    {
        id: 7,
        sentence_start: "ì±…ìƒ ìœ„",
        sentence_end: " ì—°í•„ì´ ìˆì–´ìš”.",
        correctAnswer: "ì—", // Stato in luogo (ì—)
        options: ["ì€", "ì—", "ë¥¼", "ì˜"]
    },
    {
        id: 8,
        sentence_start: "ì´ê²ƒì€ ì œ ë™ìƒ",
        sentence_end: " ê°€ë°©ì´ì—ìš”.",
        correctAnswer: "ì˜", // Possessivo (~'s / ì˜)
        options: ["ê°€", "ì„", "ì˜", "ë„"]
    },
    {
        id: 9,
        sentence_start: "ì €ëŠ” ë¹µ",
        sentence_end: " ìš°ìœ ë¥¼ ë¨¹ì—ˆì–´ìš”.",
        correctAnswer: "í•˜ê³ ", // Congiunzione (e / í•˜ê³ )
        options: ["í•˜ê³ ", "ì—ì„œ", "ëŠ”", "ê°€"]
    },
    {
        id: 10,
        sentence_start: "ì§‘",
        sentence_end: " í•™êµê¹Œì§€ ë©€ì–´ìš”.",
        correctAnswer: "ì—ì„œ", // Punto di partenza (Da... a... / ì—ì„œ...ê¹Œì§€)
        options: ["ì—", "ë¡œ", "ì—ì„œ", "ì™€"]
    },
    {
        id: 11,
        sentence_start: "ì˜¤ëŠ˜",
        sentence_end: " ê¸°ë¶„ì´ ì•„ì£¼ ì¢‹ì•„ìš”.",
        correctAnswer: "ì€", // Marcatore di tema/topic (ì€/ëŠ”)
        options: ["ë¥¼", "ì€", "ì´", "ì˜"]
    },
    {
        id: 12,
        sentence_start: "ë™ìƒì€ ìˆ™ì œ",
        sentence_end: " í•´ìš”.",
        correctAnswer: "ë¥¼", // Marcatore oggetto (ì„/ë¥¼) con parola che finisce in vocale
        options: ["ê°€", "ëŠ”", "ë¥¼", "ì—"]
    },
    {
        id: 13,
        sentence_start: "ë¶€ëª¨ë‹˜",
        sentence_end: " ì„ ë¬¼ì„ ë“œë ¸ì–´ìš”.",
        correctAnswer: "ê»˜", // Dativo onorifico (A qualcuno / ê»˜/ì—ê²Œ)
        options: ["ê»˜", "ë¥¼", "ê°€", "ì˜"]
    },
    {
        id: 14,
        sentence_start: "ë²„ìŠ¤",
        sentence_end: " í•™êµì— ê°€ìš”.",
        correctAnswer: "ë¡œ", // Mezzo/Strumento (Con/Tramite / ë¡œ/ìœ¼ë¡œ)
        options: ["ë¥¼", "ì—", "ë¡œ", "ê°€"]
    },
    {
        id: 15,
        sentence_start: "í•œêµ­ì–´",
        sentence_end: " ì¬ë¯¸ìˆì§€ë§Œ ì–´ë ¤ì›Œìš”.",
        correctAnswer: "ëŠ”", // Contrasto/Topic (ì€/ëŠ”)
        options: ["ë¥¼", "ëŠ”", "ê°€", "ë¡œ"]
    },
    {
        id: 16,
        sentence_start: "ì–´ì œ ì¹œêµ¬",
        sentence_end: " ì „í™”í–ˆì–´ìš”.",
        correctAnswer: "í•œí…Œ", // A qualcuno (informale / í•œí…Œ)
        options: ["í•œí…Œ", "ë¥¼", "ê°€", "ì˜"]
    },
    {
        id: 17,
        sentence_start: "ì‹ë‹¹ì— ì‚¬ëŒ",
        sentence_end: " ë§ì•„ìš”.",
        correctAnswer: "ì´", // Marcatore soggetto con consonante finale (ì´/ê°€)
        options: ["ì€", "ì´", "ì„", "ì—"]
    },
    {
        id: 18,
        sentence_start: "ë‚´ì¼ ì•„ì¹¨ 9ì‹œ",
        sentence_end: " ë§Œë‚˜ìš”.",
        correctAnswer: "ì—", // Tempo (Alle... / ì—)
        options: ["ì—", "ì—ì„œ", "ë¥¼", "ë¡œ"]
    },
    {
        id: 19,
        sentence_start: "ê³µì›",
        sentence_end: " ì‚°ì±…ì„ í•´ìš”.",
        correctAnswer: "ì—ì„œ", // Luogo dell'azione (ì—ì„œ)
        options: ["ì—", "ì—ì„œ", "ì„", "ì˜"]
    },
    {
        id: 20,
        sentence_start: "ì €",
        sentence_end: " í•™ìƒì´ì—ìš”.",
        correctAnswer: "ëŠ”", // Topic marker (io sono / ì €ëŠ”)
        options: ["ëŠ”", "ë¥¼", "ê°€", "ì˜"]
    }
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    let answered = false;

    const questionArea = document.getElementById('question-area');
    const optionsForm = document.getElementById('options-form');
    const checkBtn = document.getElementById('check-btn');
    const feedbackDiv = document.getElementById('feedback');
    const quizContainer = document.getElementById('quiz-container');
    const resultsDiv = document.getElementById('results');

    function loadQuestion() {
        if (currentQuestionIndex >= questions.length) {
            showResults();
            return;
        }

        const q = questions[currentQuestionIndex];
        answered = false;
        feedbackDiv.style.display = 'none';
        checkBtn.textContent = "ì •ë‹µ í™•ì¸";
        checkBtn.disabled = false;
        optionsForm.innerHTML = ''; // Clear previous options

        // 1. Display Question
        questionArea.innerHTML = `${q.sentence_start}<span class="blank"> ( ) </span>${q.sentence_end}`;

        // 2. Display Options
        q.options.forEach((option, index) => {
            const label = document.createElement('label');
            label.className = 'option-item';
            
            const radio = document.createElement('input');
            radio.type = 'radio';
            radio.name = 'answer';
            radio.value = option;
            radio.id = `option${index}`;
            
            label.appendChild(radio);
            label.appendChild(document.createTextNode(option));
            optionsForm.appendChild(label);
        });
    }

    function checkAnswer() {
        if (answered) {
            // If already answered, move to the next question
            currentQuestionIndex++;
            loadQuestion();
            return;
        }

        const selectedOption = document.querySelector('input[name="answer"]:checked');
        if (!selectedOption) {
            alert("ë‹µë³€ì„ ì„ íƒí•´ì£¼ì„¸ìš”.");
            return;
        }

        const userAnswer = selectedOption.value;
        const correctAnswer = questions[currentQuestionIndex].correctAnswer;
        
        answered = true;

        // Disable options after check
        optionsForm.querySelectorAll('input').forEach(input => input.disabled = true);

        // Provide Feedback
        feedbackDiv.style.display = 'block';
        if (userAnswer === correctAnswer) {
            score++;
            feedbackDiv.className = 'correct';
            feedbackDiv.textContent = 'âœ… ì •ë‹µì…ë‹ˆë‹¤! (Correct)';
        } else {
            feedbackDiv.className = 'incorrect';
            feedbackDiv.textContent = `âŒ ì˜¤ë‹µì…ë‹ˆë‹¤. ì •ë‹µ: "${correctAnswer}" (Incorrect)`;
        }

        // Update button for next question
        checkBtn.textContent = (currentQuestionIndex < questions.length - 1) ? "ë‹¤ìŒ ë¬¸ì œ" : "ê²°ê³¼ ë³´ê¸°";
    }

    function showResults() {
        quizContainer.style.display = 'none';
        resultsDiv.style.display = 'block';

        const totalQuestions = questions.length;
        const percentage = (score / totalQuestions) * 100;

        resultsDiv.innerHTML = `
            <h2>ì‹œí—˜ ê²°ê³¼</h2>
            <p>ì´ ${totalQuestions} ë¬¸ì œ ì¤‘ <strong>${score}ê°œ</strong> ì •ë‹µì…ë‹ˆë‹¤.</p>
            <p>ì ìˆ˜: <strong>${percentage.toFixed(0)}%</strong></p>
            <button onclick="window.location.reload()">ë‹¤ì‹œ ì‹œì‘</button>
        `;
    }

    // Event Listener
    checkBtn.addEventListener('click', checkAnswer);

    // Initialize the quiz
    loadQuestion();
</script>

</body>
</html>